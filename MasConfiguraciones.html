<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Más Configuraciones - AGranel 24/7</title>
  <link rel="icon" type="image/x-icon" href="assets/LogoIco.ico" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Manual de Usuario</h1>
    <h2>AGranel 24/7</h2>
  </header>

  <button class="menu-toggle" aria-label="Abrir menú">☰ Menú</button>

  <nav>
    <ul class="nav-links">
      <li><a href="index.html">Inicio</a></li>
      <li><a href="requisitos.html">1. Requisitos de Instalación</a></li>
      <li><a href="uso.html">2. Instrucciones de uso</a></li>
      <li><a href="configuracion.html">3. Configuración inicial</a></li>
      <li><a href="configuracionProductos.html">4. Configuración de productos</a></li>
      <li><a href="MasConfiguraciones.html">5. Más configuraciones</a></li>
      <li><a href="problemas.html">6. Solución de problemas</a></li>
      <li><a href="mantenimiento.html">7. Mantenimiento</a></li>
    </ul>
  </nav>

  <main>
  <section class="contenido">
    <h2>5. Más Configuraciones</h2>

    <h3>Contenido de esta sección</h3>
    <ul>
      <li><a href="#balance">5.1 Balance</a></li>
      <li><a href="#corte">5.2 Corte de caja</a></li>
      <li><a href="#funciones">5.3 Funciones</a></li>
      <li><a href="#telegram">5.4 Configuración de Telegram</a></li>
    </ul>

    <!-- Sección 5.1 Balance -->
    <h3 id="balance">5.1 Balance</h3>
    <p>Desde esta opción puedes visualizar la cantidad total de dinero que se ha recaudado en la máquina. Esta cifra representa la suma de todos los créditos ingresados.</p>

    <!-- Sección 5.2 Corte -->
    <h3 id="corte">5.2 Corte de caja</h3>
    <p>Esta función borra el saldo total acumulado mostrado en la opción de Balance. Es útil para reiniciar el contador después de realizar una recolección o corte administrativo.</p>
    <p><strong>Advertencia:</strong> Una vez realizado el corte, el valor del balance se reinicia a cero y no puede recuperarse.</p>

    <!-- Sección 5.3 Funciones -->
    <h3 id="funciones">5.3 Funciones</h3>
    <p>Esta opción se encuentra en el menú principal y te ofrece diversas herramientas para completar la configuración de tu tarjeta vending AGranel 24/7.</p>
    <ul>
      <li><a href="#calibracion"><strong>Calibración:</strong></a> Ajusta el tiempo necesario para despachar exactamente 1 litro de producto.</li>
      <li><a href="#muestra"><strong>Muestra:</strong></a> Permite despachar producto libremente sin necesidad de ingresar crédito, útil para pruebas o demostraciones.</li>
      <li><a href="#prueba"><strong>Prueba:</strong></a> Verifica si la máquina despacha correctamente 1 litro sin utilizar saldo.</li>
      <li><a href="#drenar"><strong>Drenar:</strong></a> Vacía el contenido de un producto, ideal para limpieza o sustitución del líquido o bomba.</li>
    </ul>

    <h3 id="calibracion">5.3.1 Calibración</h3>
    <p>Este modo permite ajustar el tiempo exacto que tarda la máquina en despachar 1 litro de producto. Es importante realizar esta calibración al instalar la máquina por primera vez o si se cambia el tipo de bomba o manguera.</p>
    <ol>
      <li>Coloca un recipiente bajo la salida del producto que deseas calibrar.</li>
      <li>Presiona el botón del producto para iniciar el despacho.</li>
      <li>Cuando esté próximo a completar 1 litro, presiona el botón de pausa para detener el flujo.</li>
      <li>La tarjeta AGranel 24/7 guardará automáticamente el tiempo que tardó en despachar el producto.</li>
      <li>Para salir del modo Calibración, presiona el control rotativo para regresar al menú anterior.</li>
    </ol>

    <h3 id="muestra">5.3.2 Muestra</h3>
    <p>El modo Muestra permite despachar producto de forma libre, sin necesidad de ingresar crédito. Es ideal para demostraciones o para llenar recipientes de forma manual.</p>
    <ol>
      <li>Coloca un recipiente bajo la salida del producto que deseas utilizar.</li>
      <li>Mantén presionado el botón del producto para comenzar el despacho.</li>
      <li>Cuando hayas obtenido la cantidad deseada, suelta el botón para detener el flujo.</li>
      <li>Para salir del modo Muestra, presiona el control rotativo para regresar al menú anterior.</li>
    </ol>

    <h3 id="prueba">5.3.3 Prueba</h3>
    <p>Este modo se utiliza para verificar si la máquina está despachando correctamente la cantidad configurada (1 litro), sin necesidad de usar saldo o crédito.</p>
    <ol>
      <li>Coloca un recipiente bajo la salida del producto que deseas probar.</li>
      <li>Presiona el botón del producto para iniciar el despacho.</li>
      <li>Si deseas detener el proceso antes de tiempo, presiona el botón de pausa.</li>
      <li>Para salir del modo Prueba, presiona el control rotativo para regresar al menú anterior.</li>
    </ol>

    <h3 id="drenar">5.3.4 Drenar</h3>
    <p>El modo Drenar permite vaciar completamente el contenido de un producto. Es útil para limpieza, mantenimiento o cuando se necesita reemplazar el líquido o cambiar la bomba.</p>
    <ol>
      <li>Coloca un recipiente amplio bajo la salida del producto que deseas drenar.</li>
      <li>Presiona el botón del producto para comenzar a vaciarlo.</li>
      <li>Cuando hayas drenado todo el contenido deseado, presiona el botón de pausa para detener el proceso.</li>
      <li>Para salir del modo Drenar, presiona el control rotativo para regresar al menú anterior.</li>
    </ol>

    <!-- Sección 5.4 Telegram -->
    <h3 id="telegram">5.4 Configuración de Telegram</h3>
    <p>Esta opción te permite configurar un bot de Telegram para recibir notificaciones de ventas directamente en tu celular. Antes de comenzar con la configuración, es necesario obtener dos identificadores clave: el <strong>Token</strong> y el <strong>Chat ID</strong>.</p>

    <h4>5.4.1. Obtener el Token</h4>
    <ol>
      <li>Abre Telegram y entra al bot <a href="https://t.me/BotFather" target="_blank" rel="noopener noreferrer">@BotFather</a>.</li>
      <li>Envía el comando <code>/newbot</code> y sigue las instrucciones para nombrar tu bot.</li>
      <li>Una vez creado, BotFather te enviará un <strong>Token</strong>. Este Token se verá así:
        <br><code>xxxxxxxxxx:AAHOSR5HQn578vAqb7fH9priF5Yxdbo3JOY</code>
        <br>Copia ese código; lo necesitarás en la configuración WiFi de la tarjeta.
      </li>
    </ol>
    <h4>5.4.2. Obtener tu Chat ID</h4>
    <ol>
      <li>Entra al bot <a href="https://t.me/myidbot" target="_blank" rel="noopener noreferrer">@myidbot</a> desde Telegram.</li>
      <li>Envía el comando <code>/getid</code>.</li>
      <li>El bot te responderá con tu <strong>Chat ID</strong>. Copia este número y guárdalo; se ingresará en el menú Telegram de la tarjeta mas adelante.</li>
    </ol>

    <h4 id="wifi">5.4.3. Configuración WiFi</h4>

    <p>Después de obtener el <strong>Token</strong> de tu bot de Telegram, debes configurar el WiFi en tu tarjeta AGranel 24/7. Este proceso sirve para que la tarjeta se conecte a internet y pueda enviarte notificaciones por Telegram.</p>

    <h5>Paso a paso:</h5>

    <ol>
      <li>
        En la pantalla de la tarjeta, entra al menú <strong>Config</strong>, luego a <strong>WiFi</strong> y selecciona la opción <strong>Habilitar</strong>.  
        <br>Esto hará que la tarjeta cree su propia red WiFi, como si fuera un pequeño módem.
      </li>

      <li>
        En tu celular o computadora, ve a los ajustes de WiFi y conéctate a la red que aparece como <strong>A Granel</strong> o <strong>A Granel 24/7</strong>.  
        <br>Es normal que diga “Sin internet”, ya que esta red solo sirve para configurar la tarjeta.
      </li>

      <li>
        Mira la pantalla de la tarjeta. Verás una dirección como <code>192.168.4.1</code>.  
        <br>Abre un navegador (como Chrome o Safari) e ingresa ese número en la barra de direcciones. Presiona Enter.
      </li>

      <li>
        Se abrirá una página como esta:
        <br>
        <div class="tarjeta">
          <img src="assets/images/WebAGranel.png" alt="Página de configuración AGranel">
          <p class="descripcion">Ejemplo de la página que verás al conectarte a la red WiFi de la tarjeta.</p>
        </div>
      </li>

      <li>
        En la página que se abre, verás un botón que dice <strong>Buscar</strong>.  
        <br>Presiónalo para que la tarjeta escanee las redes WiFi cercanas. Después de unos segundos, aparecerá una lista desplegable con todas las redes disponibles.

        <br><br>
        Selecciona tu red de casa o del negocio desde esa lista. Luego completa los siguientes campos:
        <ul>
          <li><strong>Contraseña del WiFi:</strong> Escribe la contraseña exactamente como la usas normalmente. Asegúrate de que sea correcta.</li>
          <li><strong>Token:</strong> Pega aquí el código que te dio <a href="https://t.me/BotFather" target="_blank">@BotFather</a>, por ejemplo:<br>
            <code>xxxxxxxxxx:AAHOSR5HQn578vAqb7fH9priF5Yxdbo3JOY</code>
          </li>
        </ul>
      </li>


      <li>
        Revisa que todo esté bien escrito, sin errores de mayúsculas o espacios. Luego presiona el botón <strong>Conectar</strong>.
      </li>

      <li>
        La tarjeta intentará conectarse a la red que escribiste. Si los datos son correctos, verás en pantalla que la conexión fue exitosa.
      </li>
    </ol>

    <p><strong>¡Listo!</strong> Ahora la tarjeta está conectada a internet y puede usar Telegram. El siguiente paso será ingresar el Chat ID desde el menú de la tarjeta, para que sepa a qué cuenta debe enviarte las notificaciones.</p>


    <h4 id="chatid">5.4.4. Ingresar Chat ID</h4>

    <p>Después de conectar la tarjeta a WiFi y configurar el Token de tu bot de Telegram, el siguiente paso es ingresar tu <strong>Chat ID</strong>. Este número le indica a la tarjeta a qué cuenta de Telegram debe enviar las notificaciones de ventas.</p>

    <h5>¿Dónde se encuentra esta opción?</h5>
    <p>Desde el menú principal de la tarjeta, navega a:</p>
    <p><code>Config → WiFi → Telegram → Chat ID</code></p>

    <h5>¿Cómo se ingresa?</h5>
    <ol>
      <li>Al entrar a esta opción, verás un número aleatorio en pantalla (no es tu Chat ID).</li>
      <li>Gira el control rotativo hasta encontrar la opción <strong>Borrar</strong> y presiónalo para eliminar el número actual.</li>
      <li>Después de borrar, comienza a ingresar tu Chat ID número por número:</li>
      <ul>
        <li>Gira el control rotativo hasta que aparezca el primer dígito.</li>
        <li>Presiona el control para confirmar ese número.</li>
        <li>Repite el proceso para cada uno de los dígitos del Chat ID.</li>
      </ul>
      <li>Una vez que hayas terminado de ingresar todo el número, regresa al menú anterior presionando la opcion de Atras.</li>
      <li>Finalmente, <strong>reinicia la tarjeta</strong> para que la configuración entre en efecto.</li>
    </ol>

    <h5>¿Dónde consigo mi Chat ID?</h5>
    <p>Abre Telegram y entra al bot <a href="https://t.me/myidbot" target="_blank" rel="noopener noreferrer">@myidbot</a>. Escribe el comando <code>/getid</code> y el bot te responderá con tu <strong>Chat ID</strong>.</p>

    <p><strong>¡Listo!</strong> Después de ingresar tu Chat ID y reiniciar la tarjeta, puedes verificar que todo esté funcionando correctamente enviando una notificación de prueba.  
    Pero antes, abre Telegram y <strong>busca el bot que creaste</strong> (el mismo que configuraste en BotFather). Este bot aparecerá con el nombre que tú le diste, y es necesario que abras el chat con él antes de recibir mensajes.</p>

    <div class="tarjeta">
      <img src="assets/images/msgBotFather.png" alt="Mensaje de bienvenida del bot de Telegram">
      <p class="descripcion">Ejemplo del mensaje que envía BotFather cuando creas tu bot. Asegúrate de iniciar conversación con él en Telegram.</p>
    </div>

    <p>Una vez que hayas abierto el bot, presiona el botón <strong>Start</strong>, vuelve a la tarjeta y ve al menú:</p>

    <p><code>Config → WiFi → Telegram → Notificación de prueba</code></p>

    <p>Si todo está bien configurado, deberías recibir un mensaje de prueba en tu cuenta de Telegram confirmando que la tarjeta está conectada correctamente con tu bot.</p>

      <div class="siguiente-pagina">
        <a href="problemas.html" class="btn-siguiente">Siguiente: Solución de problemas →</a>
      </div>

  </section>
</main>


  <script src="script.js"></script>
</body>
</html>
